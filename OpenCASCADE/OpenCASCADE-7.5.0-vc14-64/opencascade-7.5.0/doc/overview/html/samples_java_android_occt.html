<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Open CASCADE Technology: OCCT JniViewer sample for Android</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="occ_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Open CASCADE Technology
   &#160;<span id="projectnumber">7.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('samples_java_android_occt.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">OCCT JniViewer sample for Android </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This sample demonstrates simple way of using OCCT libraries in Android application written using Java.</p>
<p>The connection between Java and OCCT (C++) level is provided by proxy library, libTKJniSample.so, written in C++ with exported JNI methods of Java class OcctJniRenderer. The proxy library contains single C++ class OcctJni_Viewer encapsulating OCCT viewer and providing functionality to manipulate this viewer and to import OCCT shapes from several supported formats of CAD files (IGES, STEP, BREP).</p>
<p>This sample demonstrates indirect method of wrapping C++ to Java using manually created proxy library. Alternative method is available, wrapping individual OCCT classes to Java equivalents so that their full API is available to Java user and the code can be programmed on Java level similarly to C++ one. See description of OCCT Java Wrapper in Advanced Samples and Tools on OCCT web site at <a href="https://www.opencascade.com/content/advanced-samples-and-tools">https://www.opencascade.com/content/advanced-samples-and-tools</a></p>
<p>Install Android Studio 4.0+ and install building tools (check Tools -&gt; SDK Manager):</p><ul>
<li>Android SDK (API level 21 or higher).</li>
<li>Android SDK build tools.</li>
<li>Android NDK r16 or higher (coming with CMake toolchain). Using NDK r18 or newer will require changing ANDROID_STL in project settings.</li>
<li>CMake 3.10+.</li>
</ul>
<p>Specify this folder location in Android Studio for opening project. You might need re-entering Android SDK explicitly in File -&gt; Project Structure -&gt; SDK Location settings (SDK, NDK, JDK locations).</p>
<p>This sample expects OCCT to be already build - please refer to appropriate CMake building instructions in OCCT documentation. The following variables should be added into file gradle.properties (see gradle.properties.template as template):</p><ul>
<li><code>OCCT_ROOT</code> - path to OCCT installation folder.</li>
<li><code>FREETYPE_ROOT</code> - path to FreeType installation folder.</li>
</ul>
<p>FreeImage is optional and does not required for this sample, however you should include all extra libraries used for OCCT building and load the explicitly from Java code within OcctJniActivity::loadNatives() method, including toolkits from OCCT itself in proper order: </p><div class="fragment"><div class="line">if (!loadLibVerbose (&quot;TKernel&quot;, aLoaded, aFailed)</div><div class="line"> || !loadLibVerbose (&quot;TKMath&quot;,  aLoaded, aFailed)</div><div class="line"> || !loadLibVerbose (&quot;TKG2d&quot;,   aLoaded, aFailed)</div></div><!-- fragment --><p> Note that C++ STL library is not part of Android system, and application must package this library as well as extra component ("gnustl_shared" by default - see also <code>ANDROID_STL</code>).</p>
<p>After successful build via Build -&gt; Rebuild Project, the application can be packaged to Android:</p><ul>
<li>Deploy and run application on connected device or emulator directly from Android Studio using adb interface by menu items "Run" and "Debug". This would sign package with debug certificate.</li>
<li>Prepare signed end-user package using wizard Build -&gt; Generate signed APK. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Nov 3 2020 16:33:57 for Open CASCADE Technology by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
