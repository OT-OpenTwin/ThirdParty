<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- deploying-android.qdoc -->
  <title>Deploying to Android | Qt Creator Manual</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="index.html" translate="no">Qt Creator Manual</a></li>
<li><a href="creator-overview.html" translate="no">Developing with Qt Creator</a></li>
<li><a href="creator-deployment.html" translate="no">Deploying to Devices</a></li>
<li>Deploying to Android</li>
<li id="buildversion"><a href="index.html" translate="no">Qt Creator Manual 13.0&#x2e;0</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
  <link rel="prev" href="creator-deployment.html" />
  <link rel="next" href="creator-deployment-b2qt.html" />
<p class="naviNextPrevious headerNavi">
<a class="prevPage" href="creator-deployment.html">Deploying to Devices</a>
<span class="naviSeparator">  &#9702;  </span>
<a class="nextPage" href="creator-deployment-b2qt.html">Deploying to Boot2Qt</a>
</p>
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#packaging-applications">Packaging Applications</a></li>
<li class="level2"><a href="#specifying-deployment-settings">Specifying Deployment Settings</a></li>
<li class="level2"><a href="#specifying-settings-for-packages">Specifying Settings for Packages</a></li>
<li class="level1"><a href="#editing-manifest-files">Editing Manifest Files</a></li>
<li class="level2"><a href="#package-names">Package Names</a></li>
<li class="level2"><a href="#styling">Styling</a></li>
<li class="level2"><a href="#screen-orientation">Screen Orientation</a></li>
<li class="level2"><a href="#icons">Icons</a></li>
<li class="level2"><a href="#splash-screens">Splash Screens</a></li>
<li class="level2"><a href="#setting-permissions">Setting Permissions</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">Deploying to Android</h1>
<!-- $$$creator-deploying-android.html-description -->
<div class="descr" id="details">
<p>Android applications are packaged as ZIP files called Application Packages (APK) or Android App Bundles (AAB). You can install and run APK files on a device. You can upload AAB files to the Google Play store.</p>
<p>Qt for Android has binaries for armv7a, arm64-v8a, x86, and x86-64. To support several different ABIs in your application, build an AAB that has binaries for each of the ABIs. The Google Play store uses the AAB to generate optimized APK packages for the devices that request download and automatically signs them with your publisher key.</p>
<p>Qt Creator supports the following methods of deployment for Android applications:</p>
<ul>
<li>As a stand-alone, distributable application package (APK).</li>
<li>As an app bundle (AAB) for distribution in the Google Play store.<p>All Qt versions do not support AABs. Qt 6.3&#x2e;0 and later support multi-abi builds for applications that you build with CMake. For more information, see Qt for Android - Building User Projects.</p>
</li>
</ul>
<div class="admonition note">
<p><b>Note: </b>Since Qt Creator 4.12, Ministro is not supported.</p>
</div>
<p>To <a href="creator-deploying-android.html#specifying-settings-for-packages" translate="no">specify settings</a> for application packages, select <b translate="no">Projects</b> &gt; <b translate="no">Build</b> &gt; <b translate="no">Build Android APK</b> &gt; <b translate="no">Details</b>.</p>
<p>For more information about options that you have for running applications, see <a href="creator-run-settings-android.html" translate="no">Android Run Settings</a>.</p>
<h2 id="packaging-applications">Packaging Applications</h2>
<p>Because bundling applications as APK packages is not trivial, Qt has the androiddeployqt tool. When you deploy an application using a <i>Qt for Android kit</i>, Qt Creator runs the tool to create the necessary files and to bundle them into an APK. For more information, see Android Package Templates.</p>
<p>To view the packages that the <code translate="no">androiddeployqt</code> tool created, select the <b translate="no">Open package location after build</b> check box.</p>
<h3 id="specifying-deployment-settings">Specifying Deployment Settings</h3>
<p>The <b translate="no">Method</b> field lists deployment settings. To add deployment methods for a project, select <b translate="no">Add</b>.</p>
<p class="centerAlign"><img src="images/qtcreator-android-deployment-settings.png" alt="{Deployment settings}" /></p><p>To rename the current deployment method, select <b translate="no">Rename</b>.</p>
<p>To remove the current deployment method, select <b translate="no">Remove</b>.</p>
<p>Qt Creator deploys the packages on the Android device that you select in the <a href="creator-building-targets.html" translate="no">kit selector</a>. To add devices, select <b translate="no">Manage</b>.</p>
<p>For more information about specifying additional start options for applications, see <a href="creator-run-settings-android.html" translate="no">Android Run Settings</a>.</p>
<p>To remove previously installed files from the device, select <b translate="no">Uninstall the existing app before deployment</b>.</p>
<p>To install a pre-built APK, such as a 3rd-party application to a device, select <b translate="no">Install an APK File</b>.</p>
<h3 id="specifying-settings-for-packages">Specifying Settings for Packages</h3>
<p>To specify settings for the <code translate="no">androiddeployqt</code> tool, select <b translate="no">Projects</b> &gt; <b translate="no">Build &amp; Run</b> &gt; <b translate="no">Build</b> &gt; <b translate="no">Build Android APK</b> &gt; <b translate="no">Details</b>.</p>
<p class="centerAlign"><img src="images/qtcreator-build-settings-android-apk.webp" alt="{Build Android APK step}" /></p><p>The <code translate="no">androiddeployqt</code> tool create APKs based on the settings. For more information about the available options, see androiddeployqt.</p>
<p>You can view information about what the <code translate="no">androiddeployqt</code> tool is doing in <a href="creator-reference-compile-output-view.html" translate="no">Compile Output</a>. To view more information, select the <b translate="no">Verbose output</b> check box.</p>
<p>Select <b translate="no">Add debug server</b> to include the debug server binary into a package.</p>
<h4 id="selecting-api-level">Selecting API Level</h4>
<p>In the <b translate="no">Android build platform SDK</b> field, select the <a href="http://developer.android.com/guide/topics/manifest/uses-sdk-element.html#ApiLevels" translate="no">API level</a> to use for building the application. Usually, you should select the highest API level available.</p>
<p>Usually, you should use the highest version of the Android SDK build-tools for building. If necessary, select another version in the <b translate="no">Android build-tools version</b> field.</p>
<h4 id="building-aabs">Building AABs</h4>
<p>For testing the application locally, use the APK format because Qt Creator can install and run the package on the device. For distribution to the Google Play store, create an AAB by selecting the <b translate="no">Build Android App Bundle (*.aab)</b> check box.</p>
<p>When building with CMake, you can view the selected ABIs in <b translate="no">Initial Configuration</b> in the <b translate="no">CMake</b> section. You can set additional ABIs as values of the <code translate="no">ANDROID_ABI</code> key:</p>
<p class="centerAlign"><img src="images/qtcreator-android-cmake-settings.png" alt="{CMake settings for building AABs}" /></p><p>When building with Qbs or qmake, you can select the ABIs in the <b translate="no">ABIs</b> field in the <b translate="no">Build Steps</b>:</p>
<p class="centerAlign"><img src="images/qtcreator-android-build-steps.png" alt="{qmake settings for building AABs}" /></p><h4 id="signing-android-packages">Signing Android Packages</h4>
<p>To publish your application, you must sign it by using a <i>public-private key pair</i> that consists of a <i>certificate</i> and a corresponding <i>private key</i> and is identified by an <i>alias</i>. The key pair is used to verify that the future versions of your application are actually created by you.</p>
<div class="admonition warning">
<p><b>Warning: </b>Keep the key pair in a safe place and take back up copies because you cannot update the application if you lose the key pair.</p>
</div>
<p>You can use Qt Creator to generate a keystore and a <i>self-signed</i> certificate. The generated certificate has the structure of an X.509 v3 digital certificate. It has information about the version, serial number, and validity period of the certificate, the ID of the algorithm that is used to encrypt the data, the organization that issued the certificate, and the <i>subject</i> (owner) of the certificate. In case of a self-signed certificate, the issuer and owner of the certificate are the same. In addition, the certificate has information about the algorithm that is used to sign the certificate, as well as the signature of the certificate.</p>
<p>A password protects the keystore. In addition, you can protect each alias with its individual password.</p>
<p>When you sign an Android application, you must select a keystore that has certificates and a certificate alias from the keystore. The signing process embeds the public key (certificate) for the alias into the APK.</p>
<p>To create a keystore and a self-signed certificate:</p>
<ol class="1" type="1"><li>In the <b translate="no">Keystore</b> field, select <b translate="no">Create</b> to create a new keystore that has one key pair in the <b translate="no">Create a Keystore and a Certificate</b> dialog:<p class="centerAlign"><img src="images/qtcreator-android-certificate.png" alt="" /></p></li>
<li>In the <b translate="no">Keystore</b> group, enter a password to protect the keystore.</li>
<li>In the <b translate="no">Certificate</b> group, specify the key size and validity period of the certificate. You can specify a separate password to protect the key pair or use the keystore password.</li>
<li>In the <b translate="no">Certificate Distinguished Names</b> group, enter information about yourself and your company or organization that identifies the issuer and the owner of the key pair.</li>
<li>Select <b translate="no">Save</b>.</li>
<li>In the <b translate="no">Keystore File Name</b> dialog, enter a name for the keystore and select a location for it.</li>
<li>In the <b translate="no">Keystore</b> dialog, enter the keystore password to create the key pair in the keystore.</li>
</ol>
<p>To sign an Android package by using a key pair, set the <b translate="no">Sign package</b> group settings described in <a href="creator-deploying-android.html#specifying-settings-for-packages" translate="no">Specifying Settings for Packages</a>:</p>
<ol class="1" type="1"><li>In the <b translate="no">Keystore</b> field, select <b translate="no">Choose</b> to select an existing keystore.</li>
<li>In the <b translate="no">Certificate alias</b> field, select an alias from the list of key pairs that the keystore has.</li>
<li>Select the <b translate="no">Sign package</b> check box to use the alias to sign the Android package.</li>
</ol>
<h4 id="adding-external-libraries">Adding External Libraries</h4>
<p>Qt Creator automatically detects which Qt libraries the application uses and adds them as dependencies. If the application needs external libraries, specify them in <b translate="no">Projects</b> &gt; <b translate="no">Build</b> &gt; <b translate="no">Build Android APK</b> &gt; <b translate="no">Additional Libraries</b> field. The libraries are copied into your application's library folder and loaded on startup.</p>
<p>To add OpenSSL libraries, select <b translate="no">Include prebuilt OpenSSL libraries</b> in the <b translate="no">Additional Libraries</b> group. This will add the OpenSSL include project defined in <a href="creator-developing-android.html#specifying-android-device-settings" translate="no">device settings</a> in <b translate="no">Android OpenSSL</b> group. This can be used for qmake and CMake projects.</p>
<p>Otherwise, you can manually add the paths to the required <code translate="no">libssl.so</code> and <code translate="no">libcrypto.so</code> libraries to the <b translate="no">Additional Libraries</b> field.</p>
<h2 id="editing-manifest-files">Editing Manifest Files</h2>
<p>You can use the configuration options to specify all the settings you need for the <code translate="no">androiddeployqt</code> tool. You only need an Android manifest file to specify Android-specific settings, such as the application icon. However, you need the manifest file to publish the package in the Play Store. For more information about manifest files, see Qt Android Manifest File Configuration.</p>
<p>If you use CMake as the build system, you must specify the Android package source directory, <code translate="no">QT_ANDROID_PACKAGE_SOURCE_DIR</code>, in the CMakeList.txt file, as instructed in the <a href="qtcreator-accelbubble-example.html#locking-device-orientation" translate="no">mobile device tutorial</a>.</p>
<p>To use Qt Creator to create an Android manifest file and to open it in the Android Manifest Editor:</p>
<ol class="1" type="1"><li>Select <b translate="no">Projects</b> &gt; <b translate="no">Build</b> &gt; <b translate="no">Build Android APK</b> &gt; <b translate="no">Create Templates</b>.</li>
<li>Check the path in <b translate="no">Android package source directory</b>.<p class="centerAlign"><img src="images/qtcreator-android-create-template.png" alt="{Create Template dialog}" /></p></li>
<li>Select <b translate="no">Copy the Gradle files to Android directory</b> if you plan to extend the Java part of your Qt application.</li>
<li>Select <b translate="no">Finish</b> to copy the template files to the <code translate="no">android</code> directory and to open the manifest file for editing.<p class="centerAlign"><img src="images/qtcreator-android-manifest-editor-package.webp" alt="{Package info in Android Manifest Editor}" /></p></li>
</ol>
<p>The following table summarizes the options you can set.</p>
<div class="table"><table class="generic">
 <thead><tr class="qt-style"><th >Option</th><th >Value</th></tr></thead>
<tr valign="top" class="odd"><td ><b translate="no">Package name</b></td><td >A valid <a href="creator-deploying-android.html#package-names" translate="no">package name</a> for the application. For example, <code translate="no">org.example.myapplication</code>. An automatically generated Java launcher that is packaged with the application into an APK launches the application.</td></tr>
<tr valign="top" class="even"><td ><b translate="no">Version code</b></td><td >An internal version number for the package that determines whether one version of the application is more recent than another.</td></tr>
<tr valign="top" class="odd"><td ><b translate="no">Version name</b></td><td >The version number that is visible to users.</td></tr>
<tr valign="top" class="even"><td ><b translate="no">Minimum required SDK</b></td><td >The minimum API level required to run the application if you set it manually in the manifest file.</td></tr>
<tr valign="top" class="odd"><td ><b translate="no">Target SDK</b></td><td >The targeted API level of the application if you set it manually in the manifest file.</td></tr>
<tr valign="top" class="even"><td ><b translate="no">Application name</b></td><td >The application's name.</td></tr>
<tr valign="top" class="odd"><td ><b translate="no">Activity name</b></td><td >An activity name.</td></tr>
<tr valign="top" class="even"><td ><b translate="no">Style extraction</b></td><td >The method that Qt uses to determine which <a href="creator-deploying-android.html#styling" translate="no">UI style</a> to use.</td></tr>
<tr valign="top" class="odd"><td ><b translate="no">Screen orientation</b></td><td >How to determine <a href="creator-deploying-android.html#screen-orientation" translate="no">screen orientation</a>.</td></tr>
<tr valign="top" class="even"><td ><b translate="no">Application icon</b></td><td >Images to use as <a href="creator-deploying-android.html#icons" translate="no">application icons</a> depending on screen resolution.</td></tr>
<tr valign="top" class="odd"><td ><b translate="no">Splash screen</b></td><td >Images to display as <a href="creator-deploying-android.html#splash-screens" translate="no">splash screens</a> depending on the screen orientation and resolution.</td></tr>
<tr valign="top" class="even"><td ><b translate="no">Permissions</b></td><td >The <a href="creator-deploying-android.html#setting-permissions" translate="no">permissions</a> that the application needs.</td></tr>
</table></div>
<p>On the top header, select the <b translate="no">XML Source</b> tab to edit the file in XML format.</p>
<h3 id="package-names">Package Names</h3>
<p>Android application packages are usually named by using a hierarchical pattern with the levels in the hierarchy separated by periods (.)&#x2e; In general, a package name begins with the top level domain name of the organization followed by the organization's domain name and any subdomain names listed in reverse order. The organization can then choose a specific name for their package. Package names should be written in all lowercase characters whenever possible. For example, <code translate="no">org.qtproject.example</code>.</p>
<p>Complete conventions for disambiguating package names and rules for naming packages when the Internet domain name cannot be directly used as a package name are described in section 7.7 of the Java Language Specification.</p>
<p>For more information about package names, see <a href="http://developer.android.com/guide/components/fundamentals.html" translate="no">Android Application Fundamentals</a>.</p>
<h3 id="styling">Styling</h3>
<p>Qt uses different methods to determine how Qt Widgets and Qt Quick Controls should be styled:</p>
<ul>
<li>Select <b translate="no">Default</b> or <b translate="no">Full</b> when using Qt Widgets or Qt Quick Controls 1 in your project.<div class="admonition note">
<p><b>Note: </b>This method uses some Android non-SDK interfaces, that are being restricted by Google starting from Android 9.0 (API 28).</p>
</div>
</li>
<li>Select <b translate="no">Minimal</b> when using Qt Quick Controls 2 but no Qt Widgets or Qt Quick Controls 1. This is faster than using the default or full options.</li>
<li>Select <b translate="no">None</b> when using neither Qt Widgets nor Qt Quick Controls 1 or 2.</li>
</ul>
<h3 id="screen-orientation">Screen Orientation</h3>
<p>You can specify different options for determining screen orientation, depending on sensor readings or user preferences. The following table lists the options available.</p>
<div class="table"><table class="generic">
 <thead><tr class="qt-style"><th >Orientation</th><th >Description</th></tr></thead>
<tr valign="top" class="odd"><td >Unspecified</td><td >The system chooses the orientation. The policy it uses, and therefore the choices made in specific contexts, may differ from device to device.</td></tr>
<tr valign="top" class="even"><td >Behind</td><td >Use the same orientation as the activity that's immediately beneath it in the activity stack.</td></tr>
<tr valign="top" class="odd"><td >Landscape</td><td >Landscape orientation, where the display width is larger than its height.</td></tr>
<tr valign="top" class="even"><td >Portrait</td><td >Portrait orientation, where the display height is larger than its width.</td></tr>
<tr valign="top" class="odd"><td >Reverse landscape</td><td >Landscape orientation in the opposite direction of normal landscape.</td></tr>
<tr valign="top" class="even"><td >Reverse portrait</td><td >Portrait orientation in the opposite direction of normal portrait.</td></tr>
<tr valign="top" class="odd"><td >Sensor landscape</td><td >Landscape orientation, but it can be either normal or reverse landscape based on the device sensor. The sensor is used even if the user has locked sensor-based rotation.</td></tr>
<tr valign="top" class="even"><td >Sensor portrait</td><td >Portrait orientation, but it can be either normal or reverse portrait based on the device sensor. The sensor is used even if the user has locked sensor-based rotation.</td></tr>
<tr valign="top" class="odd"><td >User landscape</td><td >Landscape orientation, but it can be either normal or reverse landscape based on the device sensor and the user's preference.</td></tr>
<tr valign="top" class="even"><td >User portrait</td><td >Portrait orientation, but it can be either normal or reverse portrait based on the device sensor and the user's preference.</td></tr>
<tr valign="top" class="odd"><td >Sensor</td><td >The orientation is determined by the device orientation sensor. The orientation of the display depends on how the user is holding the device. It changes when the user rotates the device. Some devices, however, will not rotate to all four possible orientations by default. To allow all four orientations, select the full sensor option. The sensor is used even if the user locked sensor-based rotation.</td></tr>
<tr valign="top" class="even"><td >Full sensor</td><td >The orientation is determined by the device orientation sensor for any of the four orientations. This is similar to the sensor option, except that it allows any of the four possible screen orientations, regardless of what the device will normally do. For example, some devices won't normally use reverse portrait or reverse landscape, but this option enables them.</td></tr>
<tr valign="top" class="odd"><td >No sensor</td><td >The orientation is determined without reference to a physical orientation sensor. The sensor is ignored, so the display will not rotate based on how the user moves the device.</td></tr>
<tr valign="top" class="even"><td >User</td><td >The user's current preferred orientation.</td></tr>
<tr valign="top" class="odd"><td >Full user</td><td >If the user has locked sensor-based rotation, this option behaves in the same way as the user option. Otherwise, it behaves the same as the full sensor option, and allows any of the four possible screen orientations.</td></tr>
<tr valign="top" class="even"><td >Locked</td><td >Locks the orientation to its current rotation, whatever that is.</td></tr>
</table></div>
<h3 id="icons">Icons</h3>
<p>You can set different images to be shown as application icons and splash screens on low, medium, high, and extra high DPI displays. The following list summarizes the DPI values typically associated with each category:</p>
<ul>
<li>Low-density (LDPI): ~120dpi</li>
<li>Medium-density (MDPI): ~160dpi</li>
<li>High-density (HDPI): ~240dpi</li>
<li>Extra-high-density (XHDPI): ~320dpi</li>
<li>Extra-extra-high-density (XXHDPI): ~480dpi</li>
<li>Extra-extra-extra-high-density (XXXHDPI): ~640dpi</li>
</ul>
<p>Specify settings for icons in the <b translate="no">Application icon</b> tab. Select the image with the highest resolution as the <b translate="no">Master icon</b>. Qt Creator resizes the icon and sets versions of it to be shown on low, medium, high, and extra high DPI displays, as needed. Alternatively, set the icons for each resolution separately.</p>
<p class="centerAlign"><img src="images/qtcreator-android-manifest-editor-app-icon.webp" alt="{Application icons in Android Manifest Editor}" /></p><h3 id="splash-screens">Splash Screens</h3>
<p>Specify settings for splash screens in the <b translate="no">Splash screen</b> tab. Select images to display as splash screens depending on the device orientation and screen resolution.</p>
<p class="centerAlign"><img src="images/qtcreator-android-manifest-editor-splash-screen.webp" alt="{Splash screens in Android Manifest Editor}" /></p><p>By default, drawing an activity hides the splash screen. To keep it visible until <a href="https://doc.qt.io/qt-6/qnativeinterface-qandroidapplication.html#hideSplashScreen" translate="no">QNativeInterface::QAndroidApplication::hideSplashScreen()</a> is called, select the <b translate="no">Sticky splash screen</b> check box.</p>
<p>In <b translate="no">Image show mode</b>, select whether to center the splash screen on the device display or scale it to fill the display.</p>
<p>Set a background color in <b translate="no">Background color</b>.</p>
<p>Select the images with the highest resolution as the <b translate="no">Master image</b>, <b translate="no">Portrait master image</b>, and <b translate="no">Landscape master image</b>.</p>
<p>Select <b translate="no">Clear All</b> to reset all settings or remove all images.</p>
<h3 id="setting-permissions">Setting Permissions</h3>
<p>Starting from Android 6.0 (API 23), applications have to request permissions at runtime (see QtAndroidPrivate::requestPermission()). For lower Android API levels, users have to grant the permissions when they install the application. Android OS then grants the application access to the appropriate data and features.</p>
<p class="centerAlign"><img src="images/qtcreator-android-manifest-editor-permissions.webp" alt="{Permissions in Android Manifest Editor}" /></p><p>Select the <b translate="no">Include default permissions for Qt modules</b> and <b translate="no">Include default features for Qt modules</b> check boxes to add the permissions needed by Qt libraries. This can be <code translate="no">android.permission.WRITE_EXTERNAL_STORAGE</code> for Qt Core or <code translate="no">android.permission.ACCESS_BACKGROUND_LOCATION</code> for Qt Positioning.</p>
<p>To add a permission, select it from the list, and then click <b translate="no">Add</b>.</p>
</div>
<!-- @@@creator-deploying-android.html -->
<p class="naviNextPrevious footerNavi">
<a class="prevPage" href="creator-deployment.html">Deploying to Devices</a>
<span class="naviSeparator">  &#9702;  </span>
<a class="nextPage" href="creator-deployment-b2qt.html">Deploying to Boot2Qt</a>
</p>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2024 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.<br>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br>    Qt and respective logos are trademarks of The Qt Company Ltd.     in Finland and/or other countries worldwide. All other trademarks are property
   of their respective owners. </p>
</div>
</body>
</html>
