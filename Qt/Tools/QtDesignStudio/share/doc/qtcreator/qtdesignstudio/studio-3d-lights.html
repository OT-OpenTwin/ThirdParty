<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qtdesignstudio-3d-lights.qdoc -->
  <title>Lights | Qt Design Studio Manual 4.4.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="index.html" translate="no">Qt Design Studio Manual</a></li>
<li>Lights</li>
<li id="buildversion"><a href="index.html" translate="no">Qt Design Studio Manual 4.4.0</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
  <link rel="prev" href="studio-3d-custom-effects-materials.html" />
  <link rel="next" href="studio-3d-camera.html" />
<p class="naviNextPrevious headerNavi">
<a class="prevPage" href="studio-3d-custom-effects-materials.html">Custom Effects and Materials</a>
<span class="naviSeparator">  &#9702;  </span>
<a class="nextPage" href="studio-3d-camera.html">Cameras</a>
</p>
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#directional-light">Directional Light</a></li>
<li class="level1"><a href="#point-light">Point Light</a></li>
<li class="level1"><a href="#spot-light">Spot Light</a></li>
<li class="level1"><a href="#area-light">Area Light</a></li>
<li class="level1"><a href="#shadows">Shadows</a></li>
<li class="level1"><a href="#baked-lightmaps">Baked Lightmaps</a></li>
<li class="level2"><a href="#baking-lightmaps">Baking Lightmaps</a></li>
<li class="level2"><a href="#manually-baking-lightmaps-for-a-3d-model">Manually Baking Lightmaps for a 3D Model</a></li>
<li class="level2"><a href="#manually-baking-lightmaps-for-a-3d-model-inside-a-sub-component">Manually Baking Lightmaps for a 3D Model Inside a Sub Component</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">Lights</h1>
<!-- $$$studio-3d-lights.html-description -->
<div class="descr" id="details">
<p>Light components are the primary source of lighting in a Qt Design Studio scene. As a secondary light source, you can use <a href="studio-3d-scene-environment.html#setting-the-light-probe" translate="no">image-based lighting</a>.</p>
<p>To add a light component to your UI, do one of the following:</p>
<ul>
<li>Drag a light component from <b translate="no">Components</b> &gt; <b translate="no">Qt Quick 3D</b> to the <a href="studio-3d-editor.html" translate="no">3D</a> view or to <a href="qtquick-navigator.html" translate="no">Navigator</a> &gt; <b translate="no"><a href="https://doc.qt.io/qt/qml-qtquick3d-view3d.html" translate="no">View3D</a></b> &gt; <b translate="no">Scene</b>.</li>
<li>Right-click in the <b translate="no">3D</b> view and select <b translate="no">Create</b> &gt; <b translate="no">Lights</b> from the context menu.</li>
</ul>
<p>If you cannot find the light components in <b translate="no">Components</b>, add the <b translate="no">Qt Quick 3D</b> module to your project as instructed in <a href="quick-components-view.html#adding-and-removing-modules" translate="no">Adding and Removing Modules</a>.</p>
<div class="admonition note">
<p><b>Note: </b>If you select <b translate="no">Qt 5</b> as the <b translate="no">Target Qt Version</b> when <a href="studio-projects.html" translate="no">creating your project</a>, the available light components and their properties will be slightly different. The properties may also be situated differently in the <b translate="no">Properties</b> view.</p>
</div>
<p>By default, all imported scenes are created with one directional light. You can use the following components to add lights:</p>
<div class="table"><table class="generic">
 <thead><tr class="qt-style"><th >Icon</th><th >Name</th><th >Qt 5 Only</th><th >More Information</th></tr></thead>
<tr valign="top" class="odd"><td ><img src="images/directional.png" alt="" /></td><td >Directional Light</td><td ></td><td ><a href="https://doc.qt.io/qt/qml-qtquick3d-directionallight.html" translate="no">Light Directional</a></td></tr>
<tr valign="top" class="even"><td ><img src="images/point.png" alt="" /></td><td >Point Light</td><td ></td><td ><a href="https://doc.qt.io/qt/qml-qtquick3d-pointlight.html" translate="no">Light Point</a></td></tr>
<tr valign="top" class="odd"><td ><img src="images/spot.png" alt="" /></td><td >Spot Light</td><td ></td><td ><a href="https://doc.qt.io/qt/qml-qtquick3d-spotlight.html" translate="no">Light Spot</a></td></tr>
<tr valign="top" class="even"><td ><img src="images/area.png" alt="" /></td><td >Area Light</td><td ><img src="images/ok.png" alt="" /></td><td >Light Area</td></tr>
</table></div>
<div class="admonition note">
<p><b>Note: </b>Each additional light negatively effects the rendering performance of your scene. Keep scenes as simple as possible and use lights sparingly. Use a <a href="https://doc.qt.io/qt/qml-qtquick3d-sceneenvironment.html" translate="no">Scene Environment</a> component to apply image-based lighting that can produce soft and subtle lighting.</p>
</div>
<p>To edit light properties, select a light component in the <b translate="no">Navigator</b> or <b translate="no">3D</b> view, and then adjust its properties in the <b translate="no">Properties</b> view or by dragging the yellow light gizmo handles in the <b translate="no">3D</b> view.</p>
<p>To specify an overall multiplier for a light component's effects, adjust the <b translate="no">Brightness</b> property. The <b translate="no">Scope</b> property specifies which component, with its children, is illuminated by the light. Set the <a href="qtquick-properties.html#picking-colors" translate="no">Color</a> property to specify the color applied to models illuminated by a light. Set the <b translate="no">Ambient color</b> property to specify the ambient color applied to materials before being illuminated by the light.</p>
<p>You can animate light properties in the <a href="qtquick-timeline-view.html" translate="no">Timeline</a> view.</p>
<h2 id="directional-light">Directional Light</h2>
<p>A directional light emits light in one direction from an unidentifiable source located infinitely far away. This is similar to sunlight.</p>
<p>Use the <b translate="no">Brightness</b> handle of the light gizmo (1) to adjust the <b translate="no">Brightness</b> property of any of the light components.</p>
<p class="centerAlign"><img src="images/studio-3d-directional-light.webp" alt="&quot;Models lit by a directional light.&quot;" /></p><p>If the <b translate="no">Casts shadow</b> property is enabled, shadows are positioned parallel to the light direction. A directional light has infinite range and does not diminish.</p>
<p>Moving a directional light does not have any effect. The light will always be emitted in the direction of the light's z axis. Rotating the light along its x or y axis will change the direction in which the light is emitted.</p>
<p>Scaling a directional light will only have an effect in the following cases:</p>
<ul>
<li>If the z scale is set to a negative number, the light will be emitted in the opposite direction.</li>
<li>If the scale of any axis is set to 0, the light will be emitted along the world's z axis. Rotating the light has no effect.</li>
</ul>
<h2 id="point-light">Point Light</h2>
<p>A point light can be described as a sphere that emits light with equal strength in all directions from the center of the light. This is similar to the way a light bulb emits light.</p>
<p class="centerAlign"><img src="images/studio-3d-point-light.webp" alt="&quot;Models lit by a point light.&quot;" /></p><p>Lighting is applied outwards from the center of a point light, becoming increasingly dim away from the center. Moving a point light changes the position from where the light is emitted. Rotating or scaling a point light does not have any effect.</p>
<p>To control the fade-off and range of a point light, set the <b translate="no">Constant fade</b>, <b translate="no">Linear fade</b>, and <b translate="no">Quadratic fade</b> properties. Constant fade is the constant factor of the <i>attenuation</i> term of the light. Attenuation refers to the reduction in the intensity of light as it travels through a medium due to absorption or scattering of photons.</p>
<p>Turn up the linear fade value to increase the rate at which the lighting effect dims the light in proportion to the distance to the light. The value 0.0 means that the light doesn't have linear fade.</p>
<p>Turn up the quadratic fade to increase the rate at which the lighting effect dims on surfaces that are far away from the light. The value 1.0 means that the point light fade exactly follows the inverse square law. For example, when the distance to a component doubles, the light intensity decreases to one fourth. Adjust the <b translate="no">Quadratic fade</b> in the Properties view, or by using the light gizmo handle (2).</p>
<p>Aside from fade, a point light has the same properties as a directional light.</p>
<h2 id="spot-light">Spot Light</h2>
<p>A spot light emits light towards one direction in a cone shape. The light intensity diminishes when approaching the value of the <b translate="no">Cone angle</b> property. The angle at which the light intensity starts to diminish is defined by the <b translate="no">Inner cone angle</b> property. Both angles are defined in degrees in the <b translate="no">Properties</b> view. Use the Properties view or the light gizmo handles to adjust the <b translate="no">Cone angle</b> (3), <b translate="no">Inner cone angle</b> (4), and <b translate="no">Quadratic fade</b> (5) properties.</p>
<p class="centerAlign"><img src="images/studio-3d-spot-light.webp" alt="&quot;A model lit by a spot light.&quot;" /></p><p>Inside the inner cone angle, the spot light behaves similarly to the point light. There the light intensity diminishes according to inverse-square-law. However, the fade-off (and range) can be controlled with the <b translate="no">Constant fade</b>, <b translate="no">Linear fade</b>, and <b translate="no">Quadratic fade</b> properties.</p>
<h2 id="area-light">Area Light</h2>
<div class="admonition note">
<p><b>Note: </b>The <b translate="no">Area Light</b> component is only available in Qt 5.</p>
</div>
<p>An area light is similar to the directional light. However, instead of emitting an equally bright light across the whole scene, the area light emits directional light from a rectangle shaped component. Use the light gizmo or the <b translate="no">Properties</b> view to set the <b translate="no">Width</b> (6) and <b translate="no">Height</b> (7) properties to determine the size of the area light.</p>
<p class="centerAlign"><img src="images/studio-3d-area-light.webp" alt="&quot;A model lit by two area lights.&quot;" /></p><p>Aside from the size, an area light has the same properties as a directional light.</p>
<p>The image shows an example on how to light a component with different colors using two different area lights.</p>
<p>You can rotate, scale, and move area lights.</p>
<h2 id="shadows">Shadows</h2>
<p>To simulate shadows using this light, enable the <b translate="no">Cast shadows</b> check box. Cast shadows work best with area or point lights.</p>
<p>To specify the darkness of the shadows, set the <b translate="no">Shadow factor</b> property. The value 0 means no shadows are cast.</p>
<p>To specify the amount of blur applied to the shadows, set the <b translate="no">Shadow filter</b> property.</p>
<p>Tweak the <b translate="no">Shadow bias</b> property value by small amounts if you see components casting shadows on themselves.</p>
<p>To specify the quality of the shadow map created for shadow rendering, set the <b translate="no">Shadow map quality</b> property. Lower quality uses less resources, but produces lower quality shadows, while higher quality uses more resources to produce better quality shadows.</p>
<p>To specify the maximum distance for the shadow map, set the <b translate="no">Shadow map far</b> property value. Using smaller values may improve the precision and effects of the map.</p>
<h2 id="baked-lightmaps">Baked Lightmaps</h2>
<div class="admonition note">
<p><b>Note: </b>Lightmaps baking is released as technical preview in Qt Design Studio 4.1.</p>
</div>
<p>Baked lightmaps allow pre-generating the direct lighting from lights, such as <a href="https://doc.qt.io/qt/qml-qtquick3d-directionallight.html" translate="no">DirectionalLight</a>, <a href="https://doc.qt.io/qt/qml-qtquick3d-pointlight.html" translate="no">PointLight</a>, and <a href="https://doc.qt.io/qt/qml-qtquick3d-spotlight.html" translate="no">SpotLight</a>, including the shadows cast by the lights. At run time, instead of performing the appropriate calculations in the fragment shader, and, in case of shadows, generating the potentially costly shadow maps in real time, the pre-generated light map is sampled instead.</p>
<h3 id="baking-lightmaps">Baking Lightmaps</h3>
<p>To bake lightmaps for models in your 3D scene:</p>
<ol class="1" type="1"><li>Select <img src="images/bakelights.png" alt="" /> in the <b translate="no">3D</b> view toolbar or right-click anywhere in the <b translate="no">3D</b> view and select <b translate="no">Bake Lights</b> to open the <b translate="no">Lights Baking Setup</b> dialog to define settings for baking lights.</li>
<li>Set <b translate="no">Bake Mode</b> for each light source:<ul>
<li>To bake both direct (diffuse and shadow) and indirect lighting, select <b translate="no">Bake All</b>.</li>
<li>To bake only indirect lighting, select <b translate="no">Bake Indirect</b>.</li>
<li>To not include a light source in the baking of lights, select <b translate="no">Baking Disabled</b>.</li>
</ul>
</li>
<li>For every 3D model you want to bake into a lightmap, select <b translate="no">In Use</b> and <b translate="no">Enabled</b>, and set the desired <b translate="no">Resolution</b>.</li>
<li>Optional. If you have components with unexposed models or lights (for example, imported 3D models created in other software), select <b translate="no">Expose models and lights</b> to add the models and light of that component to the <b translate="no">Models</b> and <b translate="no">Lights</b> sections of the dialog.</li>
<li>Select <b translate="no">Bake</b>.</li>
</ol>
<p class="centerAlign"><img src="images/bake-lights-dialog.png" alt="" /></p><h3 id="manually-baking-lightmaps-for-a-3d-model">Manually Baking Lightmaps for a 3D Model</h3>
<div class="admonition note">
<p><b>Note: </b>Baked lightmap components are not visible in the <b translate="no">Navigator</b> view by default. To make them visible, select <img src="images/visibilityon.png" alt="" /> in the <b translate="no">Navigator</b> view.</p>
</div>
<p>To bake lightmaps for a 3D model:</p>
<ol class="1" type="1"><li>From <b translate="no">Components</b>, drag a <b translate="no">Baked Lightmap</b> component to the 3D model in the <b translate="no">Navigator</b> view.<p class="centerAlign"><img src="images/baked-lightmaps-navigator.png" alt="" /></p></li>
<li>In the <b translate="no">Navigator</b> view, select <i>bakedLightmap</i>, and in the <b translate="no">Properties</b> view:<ul>
<li>Select <b translate="no">Enabled</b>.</li>
<li>In <b translate="no">Key</b>, set the filename base for the generated light maps. This must be a unique name.</li>
<li>In <b translate="no">Load Prefix</b>, set the relative path to the folder where the generated light map files are saved.</li>
</ul>
</li>
<li>In the <b translate="no">Navigator</b> view, select the 3D model and in the <b translate="no">Properties</b> view, select <b translate="no">Used in Baked Lighting</b>.</li>
<li>Optional. Adjust <b translate="no">Resolution</b> to set the light map resoution. This effects how accurate and time-consuming the lightmap baking is.</li>
<li>In the <b translate="no">Navigator</b> view, select the light component that you want to bake lightmaps for, and in the <b translate="no">Properties</b> view, set <b translate="no">Bake Mode</b> to BakeModeAll.</li>
<li>Right-click anywhere in the <b translate="no">3D</b> view and select <b translate="no">Bake Lights</b>.</li>
<li>Select <b translate="no">Setup baking manually</b>, and then select <b translate="no">Bake</b>.</li>
</ol>
<h3 id="manually-baking-lightmaps-for-a-3d-model-inside-a-sub-component">Manually Baking Lightmaps for a 3D Model Inside a Sub Component</h3>
<p>To bake lightmaps for a 3D model inside a sub component, first add a local custom property to expose the model:</p>
<ol class="1" type="1"><li>In the <b translate="no">Navigator</b> view, right-click the sub component and select <b translate="no">Edit Component</b>.<p class="centerAlign"><img src="images/baked-lightmaps-edit-component.png" alt="" /></p></li>
<li>In the <b translate="no">Navigator</b> view, select the root component.</li>
<li>In the <b translate="no">Properties</b> view, select <img src="images/plus.png" alt="" /> in the <b translate="no">Local Custom Properties</b> section.</li>
<li>Add a new property, set <b translate="no">Type</b> to alias.<p class="centerAlign"><img src="images/baked-lightmaps-add-property.png" alt="" /></p></li>
<li>For the property, set the value to the ID of the 3D model that you want to bake lightmaps for.<p class="centerAlign"><img src="images/baked-lightmaps-property-value.png" alt="" /></p></li>
<li>In the <b translate="no">Navigator</b> view, select the 3D model and in the <b translate="no">Properties</b> view:<ul>
<li>Select <b translate="no">Used in Baked Lighting</b>.</li>
<li>Set <b translate="no">Resolution</b> to, for example, 128.</li>
</ul>
</li>
<li>Save your changes (<b>Ctrl+S</b>) and return to the main project file. To do this, select the bread crumb in the top toolbar.<p class="centerAlign"><img src="images/baked-lightmaps-exit-component.png" alt="" /></p></li>
<li>From the <b translate="no">Components</b> view, drag a <b translate="no">Baked Lightmap</b> component to the sub component in the <b translate="no">Navigator</b> view.<p class="centerAlign"><img src="images/baked-lightmaps-navigator-blm.png" alt="" /></p></li>
<li>In the <b translate="no">Navigator</b> view, select the sub component and go to the <b translate="no">Code</b> view.</li>
<li>In the <b translate="no">Code</b> view, you need to set the properties for the model inside the sub component by using the exposed property.<p>Add the following code inside the sub component.</p>
<pre class="cpp" translate="no">
 lmSphere<span class="operator">.</span>bakedLightmap: bakedLightmap
</pre>
<p>It should look something like this:</p>
<pre class="cpp" translate="no">
 MyGroup {
   id: group
   lmSphere<span class="operator">.</span>bakedLightmap: bakedLightmap
   BakedLightmap {
     id: bakedLightmap
     loadPrefix: <span class="string">&quot;lightmaps&quot;</span>
     }
   }
</pre>
</li>
<li>In the <b translate="no">Navigator</b> view, select <i>bakedLightMap</i>, and in the <b translate="no">Properties</b> view:<ul>
<li>Select <b translate="no">Enabled</b>.</li>
<li>In <b translate="no">Key</b>, set the filename base for the generated light maps. This must be a unique name.</li>
</ul>
</li>
<li>Right-click anywhere in the <b translate="no">3D</b> view and select <b translate="no">Bake Lights</b>.</li>
<li>Select <b translate="no">Setup baking manually</b>, and then select <b translate="no">Bake</b>.</li>
</ol>
</div>
<!-- @@@studio-3d-lights.html -->
<p class="naviNextPrevious footerNavi">
<a class="prevPage" href="studio-3d-custom-effects-materials.html">Custom Effects and Materials</a>
<span class="naviSeparator">  &#9702;  </span>
<a class="nextPage" href="studio-3d-camera.html">Cameras</a>
</p>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2023 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br/>    Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
