<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- FireParticles.qdoc -->
  <meta name="description" content="Illustrates how to create a fire effect with the Qt Design Studio particle system.">
  <title>Particle System: Fire Effect | Qt Design Studio Manual 4.4.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="index.html" translate="no">Qt Design Studio Manual</a></li>
<li><a href="gstutorials.html" translate="no">Tutorials</a></li>
<li>Particle System: Fire Effect</li>
<li id="buildversion"><a href="index.html" translate="no">Qt Design Studio Manual 4.4.0</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#tutorial-assets">Tutorial Assets</a></li>
<li class="level1"><a href="#creating-a-fire-effect">Creating a Fire Effect</a></li>
<li class="level2"><a href="#creating-a-project">Creating a Project</a></li>
<li class="level2"><a href="#adding-a-particle-system-to-your-scene">Adding a Particle System to Your Scene</a></li>
<li class="level2"><a href="#adding-sprites-and-sprite-animations">Adding Sprites and Sprite Animations</a></li>
<li class="level2"><a href="#adjusting-the-particle-emitter">Adjusting the Particle Emitter</a></li>
<li class="level1"><a href="#running-the-project">Running the Project</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">Particle System: Fire Effect</h1>
<!-- $$$fire-particle-effect.html-description -->
<div class="descr" id="details">
<p class="centerAlign"><img src="images/fire-particles.png" alt="" /></p><p>The <i>Fire Effect</i> tutorial illustrates how you can add a fire effect to your scene using the Qt Design Studio particle system.</p>
<p>In this tutorial, you create a project from the beginning. You can download the completed project from <a href="https://git.qt.io/public-demos/qtdesign-studio/-/tree/master/tutorial%20projects/fire-particles" translate="no">here</a>.</p>
<p>This tutorial requires that you know the basics of Qt Design Studio, see <a href="studio-getting-started.html" translate="no">Getting Started</a>.</p>
<h2 id="tutorial-assets">Tutorial Assets</h2>
<p>You need the following assets to complete this tutorial:</p>
<ul>
<li><i>fire-sprites.png</i></li>
<li><i>fire-color-table.png</i></li>
</ul>
<p>Download the assets <a href="https://git.qt.io/public-demos/qtdesign-studio/-/tree/master/tutorial%20projects/fire-particles/FireParticles/content/images" translate="no">here</a>.</p>
<h2 id="creating-a-fire-effect">Creating a Fire Effect</h2>
<h3 id="creating-a-project">Creating a Project</h3>
<p>To create a new project:</p>
<ol class="1" type="1"><li>Open Qt Design Studio.</li>
<li>On the <b translate="no">Welcome Screen</b>, select <b translate="no">Create Project</b>.</li>
<li>In the <b translate="no">Presets</b> section, select <b translate="no">General</b> &gt; <b translate="no">3D</b>.</li>
<li>In the <b translate="no">Details</b> section, set the name to <i>FireParticles</i> , and select the folder where you want to save the project.</li>
<li>Select <b translate="no">Create</b>.</li>
</ol>
<p>Next, remove any unwanted default components from the project:</p>
<ol class="1" type="1"><li>In the <b translate="no">Navigator</b> view, select <i>Text</i> and then select the <b>Delete</b> key.</li>
<li>In the same way, delete <i>cubeModel</i>.</li>
</ol>
<p>For a better visual effect, set the background color to black:</p>
<ul>
<li>In the <b translate="no">Navigator</b> view, select <i>Rectangle</i> and in <b translate="no">Properties</b>, set <b translate="no">Fill Color</b> to #000000.</li>
</ul>
<h3 id="adding-a-particle-system-to-your-scene">Adding a Particle System to Your Scene</h3>
<p>To add a particle system, you first need to import the <a href="https://doc.qt.io/qt/qtquick3d-module.html" translate="no">QtQuick3D</a>.Particles3D module to your project:</p>
<ol class="1" type="1"><li>In the <b translate="no">Components</b> view, select <img src="images/plus.png" alt="" /> .</li>
<li>Find <a href="https://doc.qt.io/qt/qtquick3d-module.html" translate="no">QtQuick3D</a>.Particles3D, and select it to add it to your project.</li>
</ol>
<p class="centerAlign"><img src="images/fire-particles-components.png" alt="" /></p><p>In this project, you use an animated sprite to simulate a fire. For this, use the <b translate="no">Animated Sprite</b> particle system template:</p>
<ul>
<li>From <b translate="no">Components</b> &gt; <b translate="no">Qt Quick 3D Particle System Templates</b> drag an <b translate="no">Animated Sprite</b> component [1] to <i>scene</i> in <b translate="no">Navigator</b>.</li>
</ul>
<p class="centerAlign"><img src="images/fire-particles-animated-sprite-comp.png" alt="" /></p><p class="centerAlign"><img src="images/fire-particles-navigator.png" alt="" /></p><p>You now have the particle system in place. To preview it, select <b>Alt</b> + <b>P</b>. You can also preview the particle system in the <b translate="no">3D</b> view by using the <a href="studio-3d-editor.html#particle-editor" translate="no">Particle Editor</a> tools.</p>
<h3 id="adding-sprites-and-sprite-animations">Adding Sprites and Sprite Animations</h3>
<p>In this project, you use a spritesheet with 3 sprites. A spritesheet is a single image file that contains multiple sprites arranged in a grid. You use these sprites to create a looping animation to add variation to the movement of the flames.</p>
<p>First, import the spritesheet you downloaded in the beginning of this tutorial (<i>fire-sprites.png</i>) to use for the fire:</p>
<ol class="1" type="1"><li>In the <b translate="no">Assets</b> view, select <img src="images/plus.png" alt="" /> .</li>
<li>In the <b translate="no">Add Assets</b> dialog, find and select <i>fire-sprites.png</i>.</li>
</ol>
<p class="centerAlign"><img src="images/fire-particles-assets.png" alt="" /></p><p>Next, add the spritesheet to the particle system, and create the animation:</p>
<ol class="1" type="1"><li>From the <b translate="no">Assets</b> view, drag <i>fire-sprites.png</i> to <i>animatedTexture</i> in the <b translate="no">Navigator</b> view.<p class="centerAlign"><img src="images/fire-particles-drag-sprites.png" alt="" /></p></li>
<li>In the <b translate="no">Navigator</b> view, select <i>animatedSequence</i> and in the <b translate="no">Properties</b> view, set:<ul>
<li><b translate="no">Frame Count</b> to 3. There are three sprites in <i>fire-sprites.png</i> so you want to divide the image into 3 different sprites for this animation.</li>
<li><b translate="no">Interpolate</b> to true. This makes the animation between the sprites smooth.</li>
<li><b translate="no">Random Start</b> to true. This sets the animation for each particle to start from any of the 3 sprites, creating some randomness to the effect.</li>
</ul>
</li>
</ol>
<p class="centerAlign"><img src="images/fire-particles-sprite-sequence.png" alt="" /></p><p>To add color to the sprites, use a <i>color table</i>. With a color table, you change the color of a single sprite during its life span. In this project, you use a gradient color table ranging from yellow to dark orange. This results in the sprites being yellow when they are emitted and dark orange at the end of their life span.</p>
<p>To set the color table:</p>
<ol class="1" type="1"><li>Go to the <b translate="no">Asstes</b> view and import <i>fire-color-table.png</i> to your project.</li>
<li>From the <b translate="no">Components</b> view, drag a <b translate="no">Texture</b> [1] to <i>animatedSpriteParticle</i> in <b translate="no">Navigator</b>.<p class="centerAlign"><img src="images/fire-particles-drag-texture.png" alt="" /></p></li>
<li>Rename the texture to <i>fireColorTable</i>.</li>
<li>In the <b translate="no">Navigator</b> view, select <i>fireColorTable</i> and in the <b translate="no">Properties</b> view, set <b translate="no">Source</b> to <i>fire-color-table.png</i>.</li>
<li>In the <b translate="no">Navigator</b> view, select <i>animatedSpriteParticle</i> and in the <b translate="no">Properties</b> view:<ul>
<li>Ensure that <b translate="no">Sprite</b> is set to <i>animatedTexture</i>. This sets which image to emit from the particle emitter, which in this case is the spritesheet added earlier.</li>
<li>Set <b translate="no">Particle Scale</b> to 5 to adjust the size of the flames.</li>
<li>Set <b translate="no">Color Table</b> to <i>fireColorTable</i>.</li>
</ul>
</li>
</ol>
<p class="centerAlign"><img src="images/fire-particles-sprite-textures.png" alt="" /></p><h3 id="adjusting-the-particle-emitter">Adjusting the Particle Emitter</h3>
<p>The next step is to adjust the particle emitter properties:</p>
<ol class="1" type="1"><li>First, in the <b translate="no">Navigator</b> view, select <i>animatedSpriteEmitter</i> and then, in the <b translate="no">Properties</b> view, set:<ul>
<li><b translate="no">Emit Rate</b> to 300 to emit 300 particles per second.</li>
<li><b translate="no">Life Span</b> to 2500 to set the life span of each particle to 2500 milliseconds (2.5 seconds).</li>
<li><b translate="no">Life Span Variation</b> to 100 to set variation to the particle life spans. The life span of each particle is now between 2.4 and 2.6 seconds to make the fire look more realistic.</li>
<li><b translate="no">Particle End Scale</b> to 1.50. When a particle is emitted, its scale is 1.00 by default. By the end of its life span, it will grow to a scale of 1.50.</li>
</ul>
<p class="centerAlign"><img src="images/fire-particles-particle-emitter.png" alt="" /></p></li>
<li>First, in the <b translate="no">Navigator</b> view, select <i>animatedSpriteParticle</i> and then, in the <b translate="no">Properties</b> view, set:<ul>
<li><b translate="no">Blend Mode</b> to Screen to blend the fire nicely with the background.</li>
<li><b translate="no">Max Amount</b> to 1000 to define the maximum amount of particles visible at the same time. Setting a higher number allocates more memory.</li>
<li><b translate="no">Color Variation</b> &gt; <b translate="no">W</b> to 0.50. This adds randomness to the opacity of the sprites.</li>
</ul>
<p class="centerAlign"><img src="images/fire-particle-sprite-particle.png" alt="" /></p></li>
<li>The <i>animatedSpriteDirection</i> component defines the direction and the velocity of the particles emitted from the particle emitter. In this tutorial, you want the particles to go straight up with a small variation.<p>In the <b translate="no">Navigator</b> view, select <i>animatedSpriteDirection</i> and in the <b translate="no">Properties</b> view, set:</p>
<ul>
<li><b translate="no">Direction</b> &gt; <b translate="no">X</b> to 0 and <b translate="no">Direction</b> &gt; <b translate="no">Y</b> to 20. This makes the particles go straight up (along the Y axis) at the velocity of 20.</li>
<li><b translate="no">Direction Variation</b> &gt; <b translate="no">X</b> to 3. This adds small variation along the X axis, making the flames a little bit wider.</li>
<li><b translate="no">Direction Variation</b> &gt; <b translate="no">Y</b> to 10. This adds variation to the velocity of the particles along the Y axis. Because this makes some particles slower, the flames appears thicker in the lower part.</li>
</ul>
<p class="centerAlign"><img src="images/fire-particles-direction.png" alt="" /></p></li>
</ol>
<h2 id="running-the-project">Running the Project</h2>
<p>Now, the fire effect is ready. Before you run it, position the camera to show the effect from a suitable perspective:</p>
<ol class="1" type="1"><li>In the <b translate="no">Navigator</b> view, select <i>sceneCamera</i> and in the <b translate="no">Properties</b> view, set:<ul>
<li><b translate="no">Field of View</b> to 20.</li>
<li><b translate="no">Translation</b> &gt; <b translate="no">Y</b> to 35.</li>
<li><b translate="no">Translation</b> &gt; <b translate="no">Z</b> to 350.</li>
</ul>
</li>
</ol>
<p class="centerAlign"><img src="images/fire-particles-camera.png" alt="" /></p><p>Now, run the project by selecting <b>Ctrl</b> + <b>R</b> or the <img src="images/run_project.png" alt="" /> button in the top toolbar.</p>
</div>
<p><b>See also </b><a href="studio-3d-particles.html" translate="no">Particles</a>.</p>
<!-- @@@fire-particle-effect.html -->
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2023 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br/>    Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
