# Copyright (C) 2022 The Qt Company Ltd.
# SPDX-License-Identifier: BSD-3-Clause

add_subdirectory(qaudiodecoderbackend)
add_subdirectory(qaudiodevicebackend)
add_subdirectory(qaudiosource)
add_subdirectory(qaudiosink)
add_subdirectory(qmediaformatbackend)
if(TARGET Qt::Quick)
    add_subdirectory(qmediaplayerbackend)
endif()
if (WIN32)
    add_subdirectory(qmediaplayer_concurrent)
endif()
add_subdirectory(qmediaplayerformatsupport)
add_subdirectory(qmediarecorderbackend)
add_subdirectory(qrtaudioengine)
add_subdirectory(qsoundeffect)
if(QT_FEATURE_thread)
    add_subdirectory(qsoundeffect_concurrent)
endif()
add_subdirectory(qvideoframebackend)
add_subdirectory(backends)
if(QT_FEATURE_process)
    add_subdirectory(multiapp)
endif()
add_subdirectory(qmediaframeinputsbackend)
if(TARGET Qt::Widgets)
    add_subdirectory(qmediacapturesession)
    add_subdirectory(qcamerabackend)
    add_subdirectory(qscreencapturebackend)
    if(QT_FEATURE_process)
        add_subdirectory(qwindowcapturebackend)
    endif()
endif()
if(TARGET Qt::Quick)
    add_subdirectory(qquickvideooutput)
    add_subdirectory(qquickvideooutput_window)

    if(NOT UIKIT AND NOT ANDROID AND NOT QNX AND NOT VXWORKS) # FIXME: Add support for cross-compiled platforms by adding qml files as resources
        add_subdirectory(qml)
    endif()

endif()

if(QT_FEATURE_static)
    add_subdirectory(static_linking)
endif()
