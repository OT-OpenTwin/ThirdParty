--- .upstream/generator.h	2025-06-30 09:17:40.517007436 +0200
+++ generator.h	2025-08-05 11:38:51.803690743 +0200
@@ -6,23 +6,34 @@
 
 #include "moc.h"
 
+// -- QtScxml
+#include <QtCore/qhash.h>
+#include <QtCore/qlist.h>
+#include <QtCore/qiodevice.h>
+// -- QtScxml
+
 QT_BEGIN_NAMESPACE
 
 class Generator
 {
-    Moc *parser = nullptr;
-    FILE *out;
+    QIODevice &out; // -- QtScxml
     ClassDef *cdef;
     QList<uint> meta_data;
 
 public:
-    Generator(Moc *moc, ClassDef *classDef, const QList<QByteArray> &metaTypes,
+    Generator(ClassDef *classDef, const QList<QByteArray> &metaTypes,
               const QHash<QByteArray, QByteArray> &knownQObjectClasses,
-              const QHash<QByteArray, QByteArray> &knownGadgets, FILE *outfile = nullptr,
+              const QHash<QByteArray, QByteArray> &knownGadgets,
+              QIODevice &outfile, // -- QtScxml
               bool requireCompleteTypes = false);
     void generateCode();
     qsizetype registeredStringsCount() { return strings.size(); }
 
+// -- QtScxml
+    void generateAccessorDefs();
+    void generateSignalDefs();
+// -- QtScxml
+
 private:
     bool registerableMetaType(const QByteArray &propertyType);
     void registerClassInfoStrings();
@@ -39,7 +50,9 @@
     void generateMetacall();
     void generateStaticMetacall();
     void generateSignal(const FunctionDef *def, int index);
+#if 0 // -- QtScxml
     void generatePluginMetaData();
+#endif // -- QtScxml
     QByteArray disambiguatedTypeName(const QByteArray &name);
     QByteArray disambiguatedTypeName(const QByteArray &name, TypeTags tag);
     QByteArray disambiguatedTypeNameForCast(const QByteArray &name);
